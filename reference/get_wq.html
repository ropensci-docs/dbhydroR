<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve water quality data from the DBHYDRO Environmental Database — get_wq • rOpenSci: dbhydroR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Retrieve water quality data from the DBHYDRO Environmental Database — get_wq" />
<meta property="og:description" content="Retrieve water quality data from the
DBHYDRO Environmental Database" />
<meta name="twitter:card" content="summary" />






<!-- Matomo -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script src="https://ropensci.org/scripts/matomo.js"></script>
<noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>

<!-- End Matomo Code -->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>dbhydroR <small>v0.2-9</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/dbhydroR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/dbhydroR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve water quality data from the DBHYDRO Environmental Database</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/dbhydroR/blob/master/R/dbhydro_get.R'><code>R/dbhydro_get.R</code></a></small>
    <div class="hidden name"><code>get_wq.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieve water quality data from the
DBHYDRO Environmental Database</p>
    </div>

    <pre class="usage"><span class='fu'>get_wq</span><span class='op'>(</span>
  station_id <span class='op'>=</span> <span class='cn'>NA</span>,
  date_min <span class='op'>=</span> <span class='cn'>NA</span>,
  date_max <span class='op'>=</span> <span class='cn'>NA</span>,
  test_name <span class='op'>=</span> <span class='cn'>NA</span>,
  mdl_handling <span class='op'>=</span> <span class='st'>"raw"</span>,
  raw <span class='op'>=</span> <span class='cn'>FALSE</span>,
  qc_strip <span class='op'>=</span> <span class='st'>"N"</span>,
  qc_field <span class='op'>=</span> <span class='st'>"N"</span>,
  test_number <span class='op'>=</span> <span class='cn'>NA</span>,
  v_target_code <span class='op'>=</span> <span class='st'>"file_csv"</span>,
  sample_id <span class='op'>=</span> <span class='cn'>NA</span>,
  project_code <span class='op'>=</span> <span class='cn'>NA</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>station_id</th>
      <td><p>character string of station id(s). See the SFWMD station
search utility for specific options</p></td>
    </tr>
    <tr>
      <th>date_min</th>
      <td><p>character date must be in POSIXct YYYY-MM-DD format</p></td>
    </tr>
    <tr>
      <th>date_max</th>
      <td><p>character date must be in POSIXct YYYY-MM-DD format</p></td>
    </tr>
    <tr>
      <th>test_name</th>
      <td><p>character string of test name(s). See the SFWMD
Station Maps at <a href='https://www.sfwmd.gov/documents-by-tag/emmaps'>https://www.sfwmd.gov/documents-by-tag/emmaps</a>
for specific options</p></td>
    </tr>
    <tr>
      <th>mdl_handling</th>
      <td><p>character string specifying the handling of measurement
values below the minimum detection limit (MDL). Example choices for this
argument include:</p><ul>
<li><p><code>raw</code>: Returns values exactly as they are stored in the database.
Current practice is to return values below the MDL as 0 minus the
uncertainty estimate.</p></li>
<li><p><code>half</code>: Returns values below the MDL as half the MDL</p></li>
<li><p><code>full</code>: Returns values below the MDL as the MDL</p></li>
</ul></td>
    </tr>
    <tr>
      <th>raw</th>
      <td><p>logical default is FALSE, set to TRUE to return data in "long"
format with all comments, qa information, and database codes included</p></td>
    </tr>
    <tr>
      <th>qc_strip</th>
      <td><p>logical set TRUE to avoid returning QAQC flagged data entries</p></td>
    </tr>
    <tr>
      <th>qc_field</th>
      <td><p>logical set TRUE to avoid returning field QC results</p></td>
    </tr>
    <tr>
      <th>test_number</th>
      <td><p>numeric test name alternative (not implemented)</p></td>
    </tr>
    <tr>
      <th>v_target_code</th>
      <td><p>string print to file? (not implemented)</p></td>
    </tr>
    <tr>
      <th>sample_id</th>
      <td><p>numeric (not implemented)</p></td>
    </tr>
    <tr>
      <th>project_code</th>
      <td><p>numeric (not implemented)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>By default, <code>get_wq</code> returns a cleaned output. First, the
cleaning function <code><a href='clean_wq.html'>clean_wq</a></code> converts the raw output from native
DBHYDRO long format (each piece of data on its own row) to wide format (each
site x variable combination in its own column). Next, the extra columns
associated with QA flags, LIMS, and District receiving are removed. Finally,
row entries associated with QA field blanks, which are used to check on
potential sources of contamination, are removed. Setting the raw flag to TRUE
will force getwq to retain information on QA field blanks as well as the
other QA fields.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>#one variable and one station</span>
<span class='fu'>get_wq</span><span class='op'>(</span>station_id <span class='op'>=</span> <span class='st'>"FLAB08"</span>,
date_min <span class='op'>=</span> <span class='st'>"2011-03-01"</span>, date_max <span class='op'>=</span> <span class='st'>"2012-05-01"</span>,
test_name <span class='op'>=</span> <span class='st'>"CHLOROPHYLLA-SALINE"</span><span class='op'>)</span>

<span class='co'>#one variable at multiple stations</span>
<span class='fu'>get_wq</span><span class='op'>(</span>station_id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"FLAB08"</span>, <span class='st'>"FLAB09"</span><span class='op'>)</span>,
date_min <span class='op'>=</span> <span class='st'>"2011-03-01"</span>, date_max <span class='op'>=</span> <span class='st'>"2012-05-01"</span>,
test_name <span class='op'>=</span> <span class='st'>"CHLOROPHYLLA-SALINE"</span><span class='op'>)</span>

<span class='co'>#One variable at a wildcard station</span>
<span class='fu'>get_wq</span><span class='op'>(</span>station_id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"FLAB0%"</span><span class='op'>)</span>,
date_min <span class='op'>=</span> <span class='st'>"2011-03-01"</span>,
date_max <span class='op'>=</span> <span class='st'>"2012-05-01"</span>,
test_name <span class='op'>=</span> <span class='st'>"CHLOROPHYLLA-SALINE"</span><span class='op'>)</span>

<span class='co'>#multiple variables at multiple stations</span>
<span class='fu'>get_wq</span><span class='op'>(</span>station_id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"FLAB08"</span>, <span class='st'>"FLAB09"</span><span class='op'>)</span>,
date_min <span class='op'>=</span> <span class='st'>"2011-03-01"</span>, date_max <span class='op'>=</span> <span class='st'>"2012-05-01"</span>,
test_name <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"CHLOROPHYLLA-SALINE"</span>, <span class='st'>"SALINITY"</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg" /></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks & Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-dbhydror',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


